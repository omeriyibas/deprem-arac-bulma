(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{371:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ge}));n(467);var r=n(551),a=n(550),o=n(3),i=n.n(o),c=n(22),u=n.n(c),l=n(13),s=n.n(l),d=n(5),f=n(10),p={colors:{red:"#a93226"}},j=n(121),b=n(114),O=n(59),y=n(310),h=n(2);var g=function(e){var t=Object(O.useNavigation)();return Object(h.jsxs)(f.default,{style:m.vehicleItem,children:[Object(h.jsxs)(f.default,{children:[Object(h.jsx)(y.default,{style:[m.textBase,m.description],children:e.name}),Object(h.jsxs)(y.default,{style:m.textBase,children:["Tel No: ",e.contact]}),Object(h.jsxs)(y.default,{style:m.textBase,children:[e.where,"->",e.to]})]}),Object(h.jsxs)(f.default,{style:m.amountContainer,children:[Object(h.jsx)(y.default,{style:m.amount,children:"Kapasite"}),Object(h.jsxs)(y.default,{style:m.amount,children:[e.totalPeoples,"/",e.capacity]}),Object(h.jsx)(f.default,{style:m.amountContainer})]}),Object(h.jsxs)(f.default,{style:m.buttonsContainer,children:[Object(h.jsx)(b.default,{style:m.buttonContainer,onPress:function(){return t.navigate("view",{contact:e.contact,id:e.id,where:e.where,to:e.to})},children:Object(h.jsx)(y.default,{style:m.itemButton,children:"Yolcular"})}),Object(h.jsx)(b.default,{style:m.buttonContainer,onPress:function(){return t.navigate("register",{contact:e.contact,id:e.id,where:e.where,to:e.to})},children:Object(h.jsx)(y.default,{style:m.itemButton,children:"Yolcu Ekle"})})]})]})},m=d.default.create({pressed:{opacity:.75},itemButton:{fontWeight:"bold"},buttonsContainer:{rowGap:5,flexDirection:"column"},buttonContainer:{paddingHorizontal:12,paddingVertical:4,backgroundColor:"white",justifyContent:"center",alignItems:"center",borderRadius:4,minWidth:80},vehicleItem:{padding:12,marginVertical:8,backgroundColor:p.colors.red,flexDirection:"row",justifyContent:"space-between",borderRadius:6,elevation:3,shadowColor:p.colors.gray500,shadowRadius:4,shadowOffset:{width:1,height:1},shadowOpacity:.4},textBase:{color:"white"},description:{fontSize:16,marginBottom:4,fontWeight:"bold"},amountContainer:{paddingHorizontal:12,paddingVertical:4,justifyContent:"center",alignItems:"center",borderRadius:4},amount:{color:"white",fontWeight:"bold"}});function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){return Object(h.jsx)(g,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.item))}var w=function(e){var t=e.vehicles;return Object(h.jsx)(j.default,{data:t,renderItem:x,keyExtractor:function(e){return e.contact}})},P=n(546),C=n(548),S=["Kahramanmara\u015f","Gaziantep","Malatya","Diyarbak\u0131r","Kilis","\u015eanl\u0131urfa","Ad\u0131yaman","Hatay","Osmaniye","Adana"],D=["Adana","Ad\u0131yaman","Afyonkarahisar","A\u011fr\u0131","Aksaray","Amasya","Ankara","Antalya","Ardahan","Artvin","Ayd\u0131n","Bal\u0131kesir","Bart\u0131n","Batman","Bayburt","Bilecik","Bing\xf6l","Bitlis","Bolu","Burdur","Bursa","\xc7anakkale","\xc7ank\u0131r\u0131","\xc7orum","Denizli","Diyarbak\u0131r","D\xfczce","Edirne","El\xe2z\u0131\u011f","Erzincan","Erzurum","Eski\u015fehir","Gaziantep","Giresun","G\xfcm\xfc\u015fhane","Hakk\xe2ri","Hatay","I\u011fd\u0131r","Isparta","\u0130stanbul","\u0130zmir","Kahramanmara\u015f","Karab\xfck","Karaman","Kars","Kastamonu","Kayseri","K\u0131r\u0131kkale","K\u0131rklareli","K\u0131r\u015fehir","Kilis","Kocaeli","Konya","K\xfctahya","Malatya","Manisa","Mardin","Mersin","Mu\u011fla","Mu\u015f","Nev\u015fehir","Ni\u011fde","Ordu","Osmaniye","Rize","Sakarya","Samsun","Siirt","Sinop","Sivas","\u015eanl\u0131urfa","\u015e\u0131rnak","Tekirda\u011f","Tokat","Trabzon","Tunceli","U\u015fak","Van","Yalova","Yozgat","Zonguldak"],k=n(552);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A="https://deprem-arac-bulma-default-rtdb.europe-west1.firebasedatabase.app/";function I(e){return B.apply(this,arguments)}function B(){return(B=u()((function*(e){var t=T(T({},e),{},{peoples:[],totalPeoples:0});return(yield k.default.post(A+"/vehicles.json",t)).data.name}))).apply(this,arguments)}function K(e,t,n){return z.apply(this,arguments)}function z(){return(z=u()((function*(e,t,n){if(console.log(t),t.totalPeoples+=parseInt(n.count),t.peoples){t.peoples.push(n);yield k.default.put(A+"/vehicles/"+e+".json",t)}else{var r=T(T({},t),{},{peoples:[n]});yield k.default.put(A+"/vehicles/"+e+".json",r)}}))).apply(this,arguments)}function N(e){return R.apply(this,arguments)}function R(){return(R=u()((function*(e){var t=yield k.default.get(A+"/vehicles/"+e+".json");return console.log(t.data.peoples),T({},t.data)}))).apply(this,arguments)}function V(e){return G.apply(this,arguments)}function G(){return(G=u()((function*(e){return(yield k.default.get(A+"/vehicles/"+e+".json")).data.peoples}))).apply(this,arguments)}function H(){return L.apply(this,arguments)}function L(){return(L=u()((function*(){var e=yield k.default.get(A+"/vehicles.json"),t=[];for(var n in e.data){var r={id:n,contact:e.data[n].contact,name:e.data[n].name,capacity:e.data[n].capacity,where:e.data[n].where,to:e.data[n].to,peoples:e.data[n].peoples,totalPeoples:e.data[n].totalPeoples};t.push(r)}return t}))).apply(this,arguments)}var M=n(0),W=n(553);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=d.default.create({inputContainer:{flex:1},inputsContainer:{padding:8,backgroundColor:"white",borderRadius:6,flexDirection:"row",justifyContent:"center",columnGap:50,alignItems:"center"},container:{flex:1,paddingHorizontal:24,paddingTop:24,paddingBottom:0,rowGap:20},infoText:{color:"white",fontSize:16,textAlign:"center",marginTop:32}}),J=function(){var e=Object(M.useState)([]),t=s()(e,2),n=t[0],r=t[1],a=Object(M.useState)(n),o=s()(a,2),i=o[0],c=o[1],l=Object(M.useState)(!0),d=s()(l,2),p=d[0],j=d[1],b=Object(M.useState)(S[-1]),O=s()(b,2),y=O[0],g=O[1],m=Object(M.useState)(D[-1]),v=s()(m,2),x=v[0],k=v[1],E=Object(M.useState)(""),T=s()(E,2),A=T[0],I=T[1];return Object(M.useEffect)((function(){function e(){return(e=u()((function*(){var e=yield H();r(e),c(e),j(!1)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(M.useEffect)((function(){c(void 0!==y&&null!==y?n.filter((function(e){return e.where===y})):n),c(void 0!==y&&null!==y?n.filter((function(e){return e.where===y})):n)}),[y]),Object(M.useEffect)((function(){console.log("asd"),c(n.filter((function(e){return e.contact.includes(A)})))}),[A]),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(f.default,{style:U.container,children:[Object(h.jsx)(W.default,{mode:"outlined",label:"\u0130leti\u015fim No",value:A,onChangeText:function(e){return I(e)}}),Object(h.jsxs)(f.default,{style:U.inputsContainer,children:[Object(h.jsx)(f.default,{style:U.inputContainer,children:Object(h.jsx)(P.default,{label:"Nerden",value:y,onChange:function(e,t){g(t)},options:S,renderInput:function(e){return Object(h.jsx)(C.default,F(F({inputProps:{style:U.muiTextInput}},e),{},{label:"Nerden"}))}})}),Object(h.jsx)(f.default,{style:U.inputContainer,children:Object(h.jsx)(P.default,{label:"Nereye",value:x,onChange:function(e,t){k(t)},options:D,renderInput:function(e){return Object(h.jsx)(C.default,F(F({inputProps:{style:U.muiTextInput}},e),{},{label:"Nereye"}))}})})]}),!p&&Object(h.jsx)(w,{vehicles:i})]})})},_=n(26),Z=n.n(_);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=Object(M.createContext)({vehicles:[],addVehicle:function(e){},deleteVehicle:function(e){},updateVehicle:function(e,t){t.description,t.amount,t.date},addRegister:function(e,t){}});function $(e,t){switch(t.type){case"ADD":var n=e.findIndex((function(e){return e.contact===t.payload.contact}));if(console.log(n),-1!==n){var r=Q(Q({},e[n]),t.payload),a=Z()(e);return a[n]=r,a}return[Q(Q({},t.payload),{},{peoples:[],totalPeoples:0})].concat(Z()(e));case"ADDREGISTER":var o=e.findIndex((function(e){return e.contact===t.payload.vehicle_contact})),i=e[o];i.peoples.push(t.payload.userData),i.totalPeoples+=parseInt(t.payload.userData.count);var c=Z()(e);return c[o]=i,c;case"DELETE":return e.filter((function(e){return e.id!==t.payload}));default:return e}}var ee=function(e){var t=e.children,n=Object(M.useReducer)($,[]),r=s()(n,2),a=r[0],o=r[1],i={vehicles:a,addVehicle:function(e){o({type:"ADD",payload:e})},deleteVehicle:function(e){o({type:"DELETE",payload:e})},updateVehicle:function(e,t){o({type:"UPDATE",payload:{id:e,data:t}})},addRegister:function(e,t){o({type:"ADDREGISTER",payload:{vehicle_contact:e,userData:t}})}};return Object(h.jsx)(X.Provider,{value:i,children:t})},te=n(558);var ne=d.default.create({container:{rowGap:20,flex:1,padding:50},buttonContainer:{flexDirection:"row",justifyContent:"center"}}),re=function(e){var t=e.route,n=e.navigation,r=Object(M.useState)(""),a=s()(r,2),o=a[0],i=a[1],c=Object(M.useState)(""),l=s()(c,2),d=l[0],j=l[1],b=Object(M.useState)(""),y=s()(b,2),g=y[0],m=y[1],v=Object(M.useState)(""),x=s()(v,2),w=x[0],P=x[1],C=Object(M.useState)({}),S=s()(C,2),D=S[0],k=S[1];function E(){return(E=u()((function*(){if(""!==o){var e={contact:o,name:d,ilce:g,count:w};yield K(t.params.id,D,e),n.navigate("home")}}))).apply(this,arguments)}return Object(O.useNavigation)(),Object(M.useEffect)((function(){function e(){return(e=u()((function*(){var e=yield N(t.params.id);k(e),console.log(e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(h.jsxs)(f.default,{style:ne.container,children:[Object(h.jsx)(W.default,{mode:"outlined",label:"\u0130leti\u015fim No",value:o,onChangeText:function(e){return i(e)}}),Object(h.jsx)(W.default,{mode:"outlined",label:"Ad Soyad",value:d,onChangeText:function(e){return j(e)}}),Object(h.jsx)(W.default,{mode:"outlined",label:"\u0130l\xe7e",value:g,onChangeText:function(e){return m(e)}}),Object(h.jsx)(W.default,{mode:"outlined",label:"Ki\u015fi Say\u0131s\u0131",value:w,onChangeText:function(e){return P(e)}}),Object(h.jsx)(f.default,{style:ne.buttonContainer,children:Object(h.jsx)(te.default,{mode:"contained",onPress:function(){return E.apply(this,arguments)},buttonColor:p.colors.red,children:"Kaydet"})})]})},ae=n(47);var oe=function(e){return Object(h.jsxs)(f.default,{style:ie.expenseItem,children:[Object(h.jsxs)(f.default,{children:[Object(h.jsx)(ae.default,{style:[ie.textBase,ie.description],children:e.name}),Object(h.jsxs)(ae.default,{style:ie.textBase,children:["Tel No: ",e.contact]})]}),Object(h.jsx)(f.default,{style:ie.amountContainer,children:Object(h.jsxs)(ae.default,{style:ie.amount,children:["Ki\u015fi Say\u0131s\u0131: ",e.count]})})]})},ie=d.default.create({pressed:{opacity:.75},expenseItem:{padding:12,marginVertical:8,backgroundColor:p.colors.red,flexDirection:"row",justifyContent:"space-between",borderRadius:6,elevation:3,shadowColor:p.colors.red,shadowRadius:4,shadowOffset:{width:1,height:1},shadowOpacity:.4},textBase:{color:"white"},description:{fontSize:16,marginBottom:4,fontWeight:"bold"},amountContainer:{paddingHorizontal:12,paddingVertical:4,justifyContent:"center",alignItems:"center",borderRadius:4,minWidth:80},amount:{color:"white",fontWeight:"bold"}});function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){return Object(h.jsx)(oe,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.item))}var le=function(e){var t=e.poeples;return Object(h.jsx)(j.default,{data:t,renderItem:ue,keyExtractor:function(e){return e.contact}})};var se=d.default.create({container:{flex:1,paddingHorizontal:24,paddingTop:24,paddingBottom:0},infoText:{color:"white",fontSize:16,textAlign:"center",marginTop:32}}),de=function(e){var t=e.route,n=(e.navigation,Object(M.useState)([])),r=s()(n,2),a=r[0],o=r[1],i=Object(M.useState)(!0),c=s()(i,2),l=c[0],d=c[1];return Object(M.useEffect)((function(){function e(){return(e=u()((function*(){var e=yield V(t.params.id);o(e),d(!1)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(h.jsx)(f.default,{style:se.container,children:!l&&Object(h.jsx)(le,{poeples:a})})};function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var je=d.default.create({muiTextField:{backgroundColor:"white"},container:{rowGap:20,flex:1,padding:50},buttonContainer:{flexDirection:"row",justifyContent:"center"}}),be=function(e){e.route;var t=e.navigation,n=Object(M.useState)(""),r=s()(n,2),a=r[0],o=r[1],i=Object(M.useState)(""),c=s()(i,2),l=c[0],d=c[1],j=Object(M.useState)(S[-1]),b=s()(j,2),y=b[0],g=b[1],m=Object(M.useState)(D[-1]),v=s()(m,2),x=v[0],w=v[1],k=Object(M.useState)(void 0),E=s()(k,2),T=E[0],A=E[1];function B(){return(B=u()((function*(){if(""!==a){var e={contact:a,name:l,where:y,to:x,capacity:T};yield I(e),t.navigate("home")}}))).apply(this,arguments)}return Object(O.useNavigation)(),Object(h.jsxs)(f.default,{style:je.container,children:[Object(h.jsx)(W.default,{mode:"outlined",label:"\u0130leti\u015fim No",value:a,onChangeText:function(e){return o(e)}}),Object(h.jsx)(W.default,{mode:"outlined",label:"Ad Soyad",value:l,onChangeText:function(e){return d(e)}}),Object(h.jsx)(W.default,{keyboardType:"numeric",mode:"outlined",label:"Ara\xe7 Kapasitesi",value:T,onChangeText:function(e){return A(e)}}),Object(h.jsx)(P.default,{label:"Nerden",value:y,onChange:function(e,t){g(t)},options:S,renderInput:function(e){return Object(h.jsx)(C.default,pe(pe({inputProps:{style:je.muiTextInput}},e),{},{label:"Nerden"}))}}),Object(h.jsx)(P.default,{label:"Nereye",value:x,onChange:function(e,t){w(t)},options:D,renderInput:function(e){return Object(h.jsx)(C.default,pe(pe({},e),{},{label:"Nereye"}))}}),Object(h.jsx)(f.default,{style:je.buttonContainer,children:Object(h.jsx)(te.default,{mode:"contained",onPress:function(){return B.apply(this,arguments)},buttonColor:p.colors.red,children:"Kaydet"})})]})},Oe=n(372),ye=Object(a.default)(),he=Object(Oe.createURL)("/");function ge(){console.log(he);return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(ee,{children:Object(h.jsx)(r.default,{linking:{config:{screens:{home:"/",register:"/register",view:"/view",addvehicle:"/addvehicle"}}},children:Object(h.jsxs)(ye.Navigator,{children:[Object(h.jsx)(ye.Screen,{name:"home",component:J,options:function(e){var t=e.navigation;return{headerTitle:function(){return Object(h.jsx)(ae.default,{children:"Ara\xe7 Listesi"})},headerRight:function(){return Object(h.jsx)(te.default,{icon:"plus",onPress:function(){return t.navigate("addvehicle")}})}}}}),Object(h.jsx)(ye.Screen,{name:"register",component:re,options:function(e){var t=e.route;return{headerTitle:function(){return Object(h.jsxs)(ae.default,{children:[t.params.contact," ",t.params.where," -> ",t.params.to]})},headerLeft:!1}}}),Object(h.jsx)(ye.Screen,{name:"view",component:de,options:function(e){var t=e.route;return{headerTitle:function(){return Object(h.jsxs)(ae.default,{children:[t.params.contact," ",t.params.where," -> ",t.params.to]})},headerLeft:!1}}}),Object(h.jsx)(ye.Screen,{name:"addvehicle",component:be,options:function(e){e.route;return{headerTitle:function(){return Object(h.jsx)(ae.default,{children:"Ara\xe7 Ekle"})},headerLeft:!1}}})]})})})})}},401:function(e,t,n){e.exports=n(469)},460:function(e,t){}},[[401,1,2]]]);
//# sourceMappingURL=app.fe6ee54e.chunk.js.map